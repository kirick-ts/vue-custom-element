import{createApp as o}from"vue";class c extends HTMLElement{app;constructor(t,i={}){super(),this.innerHTML="";const s={};if(t.props){"customElement"in t.props&&(i.customElement=this);for(let l=0;l<this.attributes.length;l++){let{name:e,value:a}=this.attributes[l];e.endsWith(".json")&&(e=e.slice(0,-5),a=JSON.parse(a)),e!=="class"&&e!=="style"&&e in t.props&&(s[e]=a)}}this.app=o(t,{...s,...i})}#e=!1;connectedCallback(){this.#e===!0?this.#e=!1:this.app.mount(this)}disconnectedCallback(){this.#e=!0,queueMicrotask(()=>{this.#e=!1,this.isConnected===!1&&this.app.unmount()})}}function p(n,t,i){if(typeof i=="string"){const s=document.createElement("style");s.dataset.element=n,s.textContent=i,document.head.append(s)}window.customElements.define(n,t)}export{c as VueCustomElement,p as defineElement};
